(this["webpackJsonpmy-notes-front"]=this["webpackJsonpmy-notes-front"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},49:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),c=n(9),a=n.n(c),l=(n(40),n(41),n(4)),i=n(13),u=n.n(i),s=n(34),d=n(26),j=n(5),f=function(e){return{type:"GET_NOTE",payload:e}},b=function(e){return{type:"SET_MODAL",payload:e}},O=n(28),h=(n(49),n(2)),v={setModal:b},m=Object(j.b)((function(e){return{modal:e.modal}}),v)((function(e){var t=e.modal;return Object(h.jsx)("div",{onClick:function(){e.setModal(!t)},className:"add-note",children:Object(h.jsx)(O.a,{size:64})})})),p=n(35),x=n(6),y=n(29),N=n(7),g=n.n(N),w=function e(){Object(x.a)(this,e)};w.ROUTES={addNoteUrl:"note",editNoteUrl:"edit-note",deleteNoteUrl:"delete",addUserUrl:"signup"},w.API_URL="https://young-escarpment-43192.herokuapp.com/";var U=function e(){Object(x.a)(this,e)};U.refreshApp=function(){return window.location.reload()};var _=function(){function e(){Object(x.a)(this,e)}return Object(y.a)(e,null,[{key:"getNotes",value:function(){return g.a.get(w.API_URL).then((function(e){return e.data}))}},{key:"createNote",value:function(e){return g.a.post(w.API_URL+w.ROUTES.addNoteUrl,e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},{key:"editNote",value:function(e){return g.a.put(w.API_URL+w.ROUTES.editNoteUrl,e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},{key:"deleteNote",value:function(e){return g.a.delete(w.API_URL+w.ROUTES.deleteNoteUrl,{data:e}).then((function(e){return U.refreshApp()})).catch((function(e){return console.log(e)}))}}]),e}(),E=n(30),k=(n(69),{setModal:b,setNote:f}),T=Object(j.b)((function(e){return{modal:e.modal,note:e.note}}),k)((function(e){var t=e.modal,n=e.note,r=Object(o.useRef)(null),c=Object(o.useRef)(null),a=Object(o.useRef)(null),l=Object(o.useState)(!1),i=Object(p.a)(l,2),u=i[0],s=i[1];Object(o.useEffect)((function(){n._id?s(!0):s(!1)}),[t]);return Object(h.jsx)("div",{className:t?"form-container":"form-container hide",children:Object(h.jsxs)("div",{className:"add-note-form",children:[Object(h.jsx)(E.a,{onClick:function(){return e.setModal(!t),void e.setNote({_id:null,title:"",body:"",footer:"",color:"normal"})},size:22}),Object(h.jsx)("h2",{children:u?"editar nota":"crear nota"}),Object(h.jsx)("input",{ref:r,defaultValue:n.title,type:"text",placeholder:"note title"}),Object(h.jsx)("textarea",{ref:c,defaultValue:n.body,placeholder:"note body",cols:"30",rows:"10"}),Object(h.jsx)("label",{htmlFor:"",children:"color note:"}),Object(h.jsxs)("select",{ref:a,defaultValue:n.body,children:[Object(h.jsx)("option",{value:"normal",children:"normal"}),Object(h.jsx)("option",{value:"yellow",children:"yellow"}),Object(h.jsx)("option",{value:"green",children:"green"}),Object(h.jsx)("option",{value:"orange",children:"orange"})]}),Object(h.jsx)("button",{onClick:function(){return function(){if(u){console.log("modo edicion!");var o={_id:n._id,title:r.current.value,body:c.current.value,color:a.current.value,footer:"chatuzPark"};_.editNote(o),e.setModal(!t)}else{console.log(r.current.value,c.current.value);var l={title:r.current.value,body:c.current.value,color:a.current.value,footer:"chatuzPark"};_.createNote(l),e.setModal(!t)}}()},children:"guardar"})]})})})),R=(n(70),n(31)),C=n(32),A=n(15),S=n.n(A),M={setNote:f,setModal:b},L=Object(j.b)((function(e){return{modal:e.modal}}),M)((function(e){var t=e._id,n=e.title,o=e.body,r=e.footer,c=e.modal,a=e.color;return Object(h.jsxs)("div",{className:"note bg-".concat(a||"normal"),children:[Object(h.jsx)(R.a,{onClick:function(){return e.setNote({_id:t,title:n,body:o,footer:r}),void e.setModal(!c)},className:"edit-icon",size:24}),Object(h.jsx)(C.a,{onClick:function(){S.a.fire({title:"Estas seguro?",text:"la nota ".concat(n," se eliminara y no podra revertir esta accion"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(S.a.fire("Deleted!","Your file has been deleted.","success"),_.deleteNote({_id:t}))}))},className:"trash-icon",size:22}),Object(h.jsx)("h3",{children:n}),Object(h.jsx)("pre",{children:o})]})})),P=(n(81),{getNotes:function(e){return{type:"GET_NOTES",payload:e}}}),F=Object(j.b)((function(e){return{notes:e.notes}}),P)((function(e){var t=e.notes;return Object(o.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getNotes();case 2:n=t.sent,e.getNotes(Object(s.a)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(h.jsxs)("div",{className:"note-list",children:[t.map((function(e){return Object(h.jsx)(L,Object(l.a)({},e),e._id)})),Object(h.jsx)(T,{}),Object(h.jsx)(m,{})]})})),I=function e(){Object(x.a)(this,e)};I.createUser=function(e){return g.a.post(w.API_URL+w.ROUTES.addUserUrl,e).then((function(e){return window.location.reload()}))};var B=function(){var e=Object(o.useRef)(null),t=Object(o.useRef)(null),n=Object(o.useRef)(null);return Object(h.jsxs)("nav",{className:"header-container",children:[Object(h.jsx)("div",{children:"Hello: Guest"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"",children:"username"}),Object(h.jsx)("input",{ref:e,type:"text"}),Object(h.jsx)("label",{htmlFor:"",children:"email"}),Object(h.jsx)("input",{ref:t,type:"email"}),Object(h.jsx)("label",{htmlFor:"",children:"password"}),Object(h.jsx)("input",{ref:n,type:"pasword"}),Object(h.jsx)("button",{onClick:function(){var o={username:e.current.value,email:t.current.value,password:n.current.value};I.createUser(o),console.log(o)},children:"Create Account"})]})]})},z=function(e){var t=e.children;return Object(h.jsxs)("div",{children:[Object(h.jsx)(B,{}),t]})};var G=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(z,{children:Object(h.jsx)(F,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),c(e),a(e)}))},V=function(e,t){switch(t.type){case"GET_NOTES":return Object(l.a)(Object(l.a)({},e),{},{notes:t.payload});case"GET_NOTE":return Object(l.a)(Object(l.a)({},e),{},{note:t.payload});case"SET_MODAL":return Object(l.a)(Object(l.a)({},e),{},{modal:t.payload});default:return e}},J=n(33),W=Object(J.a)(V,{notes:[],note:{_id:null,title:"",body:"",footer:""},modal:!1});a.a.render(Object(h.jsx)(j.a,{store:W,children:Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(G,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),D()}},[[82,1,2]]]);
//# sourceMappingURL=main.8f9396a4.chunk.js.map