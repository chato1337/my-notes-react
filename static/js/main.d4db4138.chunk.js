(this["webpackJsonpmy-notes-front"]=this["webpackJsonpmy-notes-front"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},49:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),r=n(9),a=n.n(r),i=(n(40),n(41),n(4)),u=n(13),l=n.n(u),s=n(34),d=n(26),f=n(5),j=function(e){return{type:"GET_NOTE",payload:e}},b=function(e){return{type:"SET_MODAL",payload:e}},O=n(28),h=(n(49),n(2)),m={setModal:b},p=Object(f.b)((function(e){return{modal:e.modal}}),m)((function(e){var t=e.modal;return Object(h.jsx)("div",{onClick:function(){e.setModal(!t)},className:"add-note",children:Object(h.jsx)(O.a,{size:64})})})),v=n(35),N=n(7),y=n(29),x=n(8),g=n.n(x),w=function e(){Object(N.a)(this,e)};w.ROUTES={addNoteUrl:"note",editNoteUrl:"edit-note",deleteNoteUrl:"delete"},w.API_URL="https://young-escarpment-43192.herokuapp.com/";var _=function e(){Object(N.a)(this,e)};_.refreshApp=function(){return window.location.reload()};var E=function(){function e(){Object(N.a)(this,e)}return Object(y.a)(e,null,[{key:"getNotes",value:function(){return g.a.get(w.API_URL).then((function(e){return e.data}))}},{key:"createNote",value:function(e){return g.a.post(w.API_URL+w.ROUTES.addNoteUrl,e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},{key:"editNote",value:function(e){return g.a.put(w.API_URL+w.ROUTES.editNoteUrl,e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},{key:"deleteNote",value:function(e){return g.a.delete(w.API_URL+w.ROUTES.deleteNoteUrl,{data:e}).then((function(e){return _.refreshApp()})).catch((function(e){return console.log(e)}))}}]),e}(),k=n(30),T=(n(69),{setModal:b,setNote:j}),U=Object(f.b)((function(e){return{modal:e.modal,note:e.note}}),T)((function(e){var t=e.modal,n=e.note,c=Object(o.useRef)(null),r=Object(o.useRef)(null),a=Object(o.useState)(!1),i=Object(v.a)(a,2),u=i[0],l=i[1];Object(o.useEffect)((function(){n._id?l(!0):l(!1)}),[t]);return console.log(n),Object(h.jsx)("div",{className:t?"form-container":"form-container hide",children:Object(h.jsxs)("div",{className:"add-note-form",children:[Object(h.jsx)(k.a,{onClick:function(){return e.setModal(!t),void e.setNote({_id:null,title:"",body:"",footer:""})},size:22}),Object(h.jsx)("h2",{children:u?"editar nota":"crear nota"}),Object(h.jsx)("input",{ref:c,defaultValue:n.title,type:"text",placeholder:"note title"}),Object(h.jsx)("textarea",{ref:r,defaultValue:n.body,placeholder:"note body",cols:"30",rows:"10"}),Object(h.jsx)("button",{onClick:function(){return function(){if(u){console.log("modo edicion!");var o={_id:n._id,title:c.current.value,body:r.current.value,footer:"chatuzPark"};E.editNote(o),e.setModal(!t)}else{console.log(c.current.value,r.current.value);var a={title:c.current.value,body:r.current.value,footer:"chatuzPark"};E.createNote(a),e.setModal(!t)}}()},children:"guardar"})]})})})),C=(n(70),n(31)),M=n(32),R=n(15),S=n.n(R),A={setNote:j,setModal:b},L=Object(f.b)((function(e){return{modal:e.modal}}),A)((function(e){var t=e._id,n=e.title,o=e.body,c=e.footer,r=e.modal;return Object(h.jsxs)("div",{className:"note bg-normal",children:[Object(h.jsx)(C.a,{onClick:function(){return e.setNote({_id:t,title:n,body:o,footer:c}),void e.setModal(!r)},className:"edit-icon",size:24}),Object(h.jsx)(M.a,{onClick:function(){S.a.fire({title:"Estas seguro?",text:"la nota ".concat(n," se eliminara y no podra revertir esta accion"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(S.a.fire("Deleted!","Your file has been deleted.","success"),E.deleteNote({_id:t}))}))},className:"trash-icon",size:22}),Object(h.jsx)("h2",{children:n}),Object(h.jsx)("p",{children:o})]})})),P=(n(81),{getNotes:function(e){return{type:"GET_NOTES",payload:e}}}),B=Object(f.b)((function(e){return{notes:e.notes}}),P)((function(e){var t=e.notes;return Object(o.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.getNotes();case 2:n=t.sent,e.getNotes(Object(s.a)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(h.jsxs)("div",{className:"note-list",children:[t.map((function(e){return Object(h.jsx)(L,Object(i.a)({},e),e._id)})),Object(h.jsx)(U,{}),Object(h.jsx)(p,{})]})}));var I=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(B,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),r(e),a(e)}))},D=function(e,t){switch(t.type){case"GET_NOTES":return Object(i.a)(Object(i.a)({},e),{},{notes:t.payload});case"GET_NOTE":return Object(i.a)(Object(i.a)({},e),{},{note:t.payload});case"SET_MODAL":return Object(i.a)(Object(i.a)({},e),{},{modal:t.payload});default:return e}},F=n(33),G=Object(F.a)(D,{notes:[],note:{_id:null,title:"",body:"",footer:""},modal:!1});a.a.render(Object(h.jsx)(f.a,{store:G,children:Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(I,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),z()}},[[82,1,2]]]);
//# sourceMappingURL=main.d4db4138.chunk.js.map